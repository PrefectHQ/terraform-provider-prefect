---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "prefect_webhook Resource - prefect"
subcategory: ""
description: |-
  The resource webhook represents a Prefect Cloud Webhook. Webhooks allow external services to trigger events in Prefect.
---

# prefect_webhook (Resource)

The resource `webhook` represents a Prefect Cloud Webhook. Webhooks allow external services to trigger events in Prefect.

## Example Usage

```terraform
resource "prefect_webhook" "example" {
  name        = "my-webhook"
  description = "This is a webhook"
  enabled     = true
  template = jsonencode({
    event = "model.refreshed"
    resource = {
      "prefect.resource.id"   = "product.models.{{ body.model }}"
      "prefect.resource.name" = "{{ body.friendly_name }}"
      "producing-team"        = "Data Science"
    }
  })
}

# Optionally, use a JSON file to load a more complex template
resource "prefect_webhook" "example_with_file" {
  name        = "my-webhook"
  description = "This is a webhook"
  enabled     = true
  template    = file("./webhook-template.json")
}

# Pro / Enterprise customers can assign a Service Account to a webhook to enhance security.
# If set, the webhook request will be authorized with the Service Account's API key.
# NOTE: if the Service Account is deleted, the associated Webhook is also deleted.
resource "prefect_service_account" "authorized" {
  name = "my-service-account"
}
resource "prefect_webhook" "example_with_service_account" {
  name               = "my-webhook-with-auth"
  description        = "This is an authorized webhook"
  enabled            = true
  template           = file("./webhook-template.json")
  service_account_id = prefect_service_account.authorized.id
}

# Access the endpoint of the webhook.
output "endpoints" {
  value = {
    example                      = prefect_webhook.example.endpoint
    example_with_file            = prefect_webhook.example_with_file.endpoint
    example_with_service_account = prefect_webhook.example_with_service_account.endpoint
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the webhook
- `template` (String) Template used by the webhook

### Optional

- `account_id` (String) Account ID (UUID), defaults to the account set in the provider
- `description` (String) Description of the webhook
- `enabled` (Boolean) Whether the webhook is enabled
- `service_account_id` (String) ID of the Service Account to which this webhook belongs. `Pro` and `Enterprise` customers can assign a Service Account to a webhook to enhance security. If set, the webhook request will be authorized with the Service Account's API key.
- `workspace_id` (String) Workspace ID (UUID), defaults to the workspace set in the provider

### Read-Only

- `created` (String) Timestamp of when the resource was created (RFC3339)
- `endpoint` (String) The fully-formed webhook endpoint, eg. `https://api.prefect.cloud/hooks/<slug>`
- `id` (String) Webhook ID (UUID)
- `updated` (String) Timestamp of when the resource was updated (RFC3339)

## Import

Import is supported using the following syntax:

```shell
# Prefect Webhooks can be imported using the format `workspace_id,id`
terraform import prefect_webhook.example 11111111-1111-1111-1111-111111111111,00000000-0000-0000-0000-000000000000

# You can also import by id only if you have a workspace_id set in your provider
terraform import prefect_webhook.example 00000000-0000-0000-0000-000000000000
```
