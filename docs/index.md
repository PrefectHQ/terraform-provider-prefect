---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "prefect Provider"
subcategory: ""
description: |-
  Use the Prefect https://prefect.io provider to configure your Prefect infrastructure.
---

# Prefect Provider

Use the [Prefect](https://prefect.io) provider to configure your Prefect infrastructure.

The provider supports both [Prefect Cloud](https://app.prefect.cloud) and
[Prefect OSS](https://github.com/prefecthq/prefect).

The provider is tested against Prefect 3 and later. There is no compatibility guarantee for Prefect 2.

See [getting started](./docs/guides/getting-started.md) for more information on setting up the provider.

See [troubleshoting](./docs/guides/troubleshooting.md) for resources to address potential errors.

## Example Usage

```terraform
terraform {
  required_providers {
    prefect = {
      source = "prefecthq/prefect"
    }
  }
}

# By default, the provider points to Prefect Cloud
# and you can pass in your API key and account ID
# via variables or static inputs.
provider "prefect" {
  api_key    = var.prefect_api_key
  account_id = var.prefect_account_id
}

# You can also pass in your API key and account ID
# implicitly via environment variables, such as
# PREFECT_API_KEY and PREFECT_CLOUD_ACCOUNT_ID.
provider "prefect" {}

# You also have the option to link the provider instance
# to your specific workspace, if this fits your use case.
provider "prefect" {
  api_key      = var.prefect_api_key
  account_id   = var.prefect_account_id
  workspace_id = var.prefect_workspace_id
}

# You also have the option to specify the account and workspace
# in the `endpoint` attribute. This is the same format used for
# the `PREFECT_API_KEY` value used in the Prefect CLI configuration file.
provider "prefect" {
  endpoint = "https://api.prefect.cloud/api/accounts/<account_id>/workspaces/<workspace_id>"
}

# Finally, in rare occasions, you also have the option
# to point the provider to a locally running Prefect Server,
# with a limited set of functionality from the provider.
provider "prefect" {
  endpoint = "http://localhost:4200"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `account_id` (String) Default Prefect Cloud Account ID. Can also be set via the `PREFECT_CLOUD_ACCOUNT_ID` environment variable.
- `api_key` (String, Sensitive) Prefect Cloud API key. Can also be set via the `PREFECT_API_KEY` environment variable.
- `basic_auth_key` (String, Sensitive) Prefect basic auth key. Can also be set via the `PREFECT_BASIC_AUTH_KEY` environment variable.
- `csrf_enabled` (Boolean) Enable CSRF protection for API requests. Defaults to false. If enabled, the provider will fetch a CSRF token from the Prefect API and include it in all requests. This should be enabled if your Prefect server instance has CSRF protection active. Can also be set via the `PREFECT_CSRF_ENABLED` environment variable.
- `endpoint` (String) The Prefect API URL. Can also be set via the `PREFECT_API_URL` environment variable. Defaults to `https://api.prefect.cloud` if not configured. Can optionally include the default account ID and workspace ID in the following format: `https://api.prefect.cloud/api/accounts/<accountID>/workspaces/<workspaceID>`. This is the same format used for the `PREFECT_API_URL` value in the Prefect CLI configuration file. The `account_id` and `workspace_id` attributes and their matching environment variables will take priority over any account and workspace ID values provided in the `endpoint` attribute.
- `workspace_id` (String) Default Prefect Cloud Workspace ID.
