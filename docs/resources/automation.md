---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "prefect_automation Resource - prefect"
subcategory: ""
description: |-
  The resource automations represents a Prefect Automation.
---

# prefect_automation (Resource)

The resource `automations` represents a Prefect Automation.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the automation
- `trigger` (Attributes) The criteria for which events this Automation covers and how it will respond (see [below for nested schema](#nestedatt--trigger))

### Optional

- `account_id` (String) Account ID (UUID), defaults to the account set in the provider
- `actions` (Attributes List) List of actions to perform when the automation is triggered (see [below for nested schema](#nestedatt--actions))
- `actions_on_resolve` (Attributes List) List of actions to perform when the automation is triggered (see [below for nested schema](#nestedatt--actions_on_resolve))
- `actions_on_trigger` (Attributes List) List of actions to perform when the automation is triggered (see [below for nested schema](#nestedatt--actions_on_trigger))
- `description` (String) Description of the automation
- `enabled` (Boolean) Whether the automation is enabled
- `workspace_id` (String) Workspace ID (UUID), defaults to the workspace set in the provider

### Read-Only

- `created` (String) Timestamp of when the resource was created (RFC3339)
- `id` (String) Automation ID (UUID)
- `updated` (String) Timestamp of when the resource was updated (RFC3339)

<a id="nestedatt--trigger"></a>
### Nested Schema for `trigger`

Optional:

- `compound` (Attributes) A composite trigger that requires some number of triggers to have fired within the given time period (see [below for nested schema](#nestedatt--trigger--compound))
- `event` (Attributes) A trigger that fires based on the presence or absence of events within a given period of time (see [below for nested schema](#nestedatt--trigger--event))
- `metric` (Attributes) A trigger that fires based on the results of a metric query (see [below for nested schema](#nestedatt--trigger--metric))
- `sequence` (Attributes) A composite trigger that requires triggers to fire in a specific order (see [below for nested schema](#nestedatt--trigger--sequence))

<a id="nestedatt--trigger--compound"></a>
### Nested Schema for `trigger.compound`

Required:

- `require` (Dynamic) How many triggers must fire ('any', 'all', or a number)
- `triggers` (Attributes List) The ordered list of triggers that must fire in sequence (see [below for nested schema](#nestedatt--trigger--compound--triggers))

Optional:

- `within` (Number) The time period in seconds over which the events must occur

<a id="nestedatt--trigger--compound--triggers"></a>
### Nested Schema for `trigger.compound.triggers`

Optional:

- `event` (Attributes) A trigger that fires based on the presence or absence of events within a given period of time (see [below for nested schema](#nestedatt--trigger--compound--triggers--event))
- `metric` (Attributes) A trigger that fires based on the results of a metric query (see [below for nested schema](#nestedatt--trigger--compound--triggers--metric))

<a id="nestedatt--trigger--compound--triggers--event"></a>
### Nested Schema for `trigger.compound.triggers.event`

Required:

- `posture` (String) The posture of this trigger, either Reactive or Proactive

Optional:

- `after` (List of String) The event(s) which must first been seen to fire this trigger. If empty, then fire this trigger immediately
- `expect` (List of String) The event(s) this trigger is expecting to see. If empty, this trigger will match any event
- `for_each` (List of String) Evaluate the trigger separately for each distinct value of these labels on the resource
- `match` (String) Labels for resources which this trigger will match
- `match_related` (String) Labels for related resources which this trigger will match
- `threshold` (Number) The number of events required for this trigger to fire (Reactive) or expected (Proactive)
- `within` (Number) The time period in seconds over which the events must occur


<a id="nestedatt--trigger--compound--triggers--metric"></a>
### Nested Schema for `trigger.compound.triggers.metric`

Required:

- `metric` (Attributes) (see [below for nested schema](#nestedatt--trigger--compound--triggers--metric--metric))

Optional:

- `match` (String) Labels for resources which this trigger will match
- `match_related` (String) Labels for related resources which this trigger will match

<a id="nestedatt--trigger--compound--triggers--metric--metric"></a>
### Nested Schema for `trigger.compound.triggers.metric.metric`

Required:

- `firing_for` (Number) The duration (seconds) for which the metric query must breach OR resolve continuously before the state is updated and actions are triggered.
- `name` (String) The name of the metric to query
- `operator` (String) The comparative operator used to evaluate the query result against the threshold value
- `range` (Number) The lookback duration (seconds) for a metric query. This duration is used to determine the time range over which the query will be executed.
- `threshold` (Number) The threshold value against which we'll compare the query results





<a id="nestedatt--trigger--event"></a>
### Nested Schema for `trigger.event`

Required:

- `posture` (String) The posture of this trigger, either Reactive or Proactive

Optional:

- `after` (List of String) The event(s) which must first been seen to fire this trigger. If empty, then fire this trigger immediately
- `expect` (List of String) The event(s) this trigger is expecting to see. If empty, this trigger will match any event
- `for_each` (List of String) Evaluate the trigger separately for each distinct value of these labels on the resource
- `match` (String) Labels for resources which this trigger will match
- `match_related` (String) Labels for related resources which this trigger will match
- `threshold` (Number) The number of events required for this trigger to fire (Reactive) or expected (Proactive)
- `within` (Number) The time period in seconds over which the events must occur


<a id="nestedatt--trigger--metric"></a>
### Nested Schema for `trigger.metric`

Required:

- `metric` (Attributes) (see [below for nested schema](#nestedatt--trigger--metric--metric))

Optional:

- `match` (String) Labels for resources which this trigger will match
- `match_related` (String) Labels for related resources which this trigger will match

<a id="nestedatt--trigger--metric--metric"></a>
### Nested Schema for `trigger.metric.metric`

Required:

- `firing_for` (Number) The duration (seconds) for which the metric query must breach OR resolve continuously before the state is updated and actions are triggered.
- `name` (String) The name of the metric to query
- `operator` (String) The comparative operator used to evaluate the query result against the threshold value
- `range` (Number) The lookback duration (seconds) for a metric query. This duration is used to determine the time range over which the query will be executed.
- `threshold` (Number) The threshold value against which we'll compare the query results



<a id="nestedatt--trigger--sequence"></a>
### Nested Schema for `trigger.sequence`

Required:

- `triggers` (Attributes List) The ordered list of triggers that must fire in sequence (see [below for nested schema](#nestedatt--trigger--sequence--triggers))

Optional:

- `within` (Number) The time period in seconds over which the events must occur

<a id="nestedatt--trigger--sequence--triggers"></a>
### Nested Schema for `trigger.sequence.triggers`

Optional:

- `event` (Attributes) A trigger that fires based on the presence or absence of events within a given period of time (see [below for nested schema](#nestedatt--trigger--sequence--triggers--event))
- `metric` (Attributes) A trigger that fires based on the results of a metric query (see [below for nested schema](#nestedatt--trigger--sequence--triggers--metric))

<a id="nestedatt--trigger--sequence--triggers--event"></a>
### Nested Schema for `trigger.sequence.triggers.event`

Required:

- `posture` (String) The posture of this trigger, either Reactive or Proactive

Optional:

- `after` (List of String) The event(s) which must first been seen to fire this trigger. If empty, then fire this trigger immediately
- `expect` (List of String) The event(s) this trigger is expecting to see. If empty, this trigger will match any event
- `for_each` (List of String) Evaluate the trigger separately for each distinct value of these labels on the resource
- `match` (String) Labels for resources which this trigger will match
- `match_related` (String) Labels for related resources which this trigger will match
- `threshold` (Number) The number of events required for this trigger to fire (Reactive) or expected (Proactive)
- `within` (Number) The time period in seconds over which the events must occur


<a id="nestedatt--trigger--sequence--triggers--metric"></a>
### Nested Schema for `trigger.sequence.triggers.metric`

Required:

- `metric` (Attributes) (see [below for nested schema](#nestedatt--trigger--sequence--triggers--metric--metric))

Optional:

- `match` (String) Labels for resources which this trigger will match
- `match_related` (String) Labels for related resources which this trigger will match

<a id="nestedatt--trigger--sequence--triggers--metric--metric"></a>
### Nested Schema for `trigger.sequence.triggers.metric.metric`

Required:

- `firing_for` (Number) The duration (seconds) for which the metric query must breach OR resolve continuously before the state is updated and actions are triggered.
- `name` (String) The name of the metric to query
- `operator` (String) The comparative operator used to evaluate the query result against the threshold value
- `range` (Number) The lookback duration (seconds) for a metric query. This duration is used to determine the time range over which the query will be executed.
- `threshold` (Number) The threshold value against which we'll compare the query results






<a id="nestedatt--actions"></a>
### Nested Schema for `actions`

Required:

- `type` (String) The type of action to perform

Optional:

- `automation_id` (String) (Automation) ID of the automation to apply this action to
- `block_document_id` (String) (Webhook / Notification) ID of the block to use
- `body` (String) (Notification) Body of the notification
- `deployment_id` (String) (Deployment) ID of the deployment to apply this action to
- `job_variables` (String) (Deployment) Job variables to pass to the created flow run
- `message` (String) (Flow Run State Change) Message to associate with the state change
- `name` (String) (Flow Run State Change) Name of the state to change the flow run to
- `parameters` (String) (Deployment) Parameters to pass to the deployment
- `payload` (String) (Webhook) Payload to send when calling the webhook
- `source` (String) (Deployment / Work Pool / Work Queue / Automation) Whether this action applies to a specific selected resource or to a specific resource by ID - 'selected' or 'inferred'
- `state` (String) (Flow Run State Change) Type of state to change the flow run to
- `subject` (String) (Notification) Subject of the notification
- `work_pool_id` (String) (Work Pool) ID of the work pool to apply this action to
- `work_queue_id` (String) (Work Queue) ID of the work queue to apply this action to


<a id="nestedatt--actions_on_resolve"></a>
### Nested Schema for `actions_on_resolve`

Required:

- `type` (String) The type of action to perform

Optional:

- `automation_id` (String) (Automation) ID of the automation to apply this action to
- `block_document_id` (String) (Webhook / Notification) ID of the block to use
- `body` (String) (Notification) Body of the notification
- `deployment_id` (String) (Deployment) ID of the deployment to apply this action to
- `job_variables` (String) (Deployment) Job variables to pass to the created flow run
- `message` (String) (Flow Run State Change) Message to associate with the state change
- `name` (String) (Flow Run State Change) Name of the state to change the flow run to
- `parameters` (String) (Deployment) Parameters to pass to the deployment
- `payload` (String) (Webhook) Payload to send when calling the webhook
- `source` (String) (Deployment / Work Pool / Work Queue / Automation) Whether this action applies to a specific selected resource or to a specific resource by ID - 'selected' or 'inferred'
- `state` (String) (Flow Run State Change) Type of state to change the flow run to
- `subject` (String) (Notification) Subject of the notification
- `work_pool_id` (String) (Work Pool) ID of the work pool to apply this action to
- `work_queue_id` (String) (Work Queue) ID of the work queue to apply this action to


<a id="nestedatt--actions_on_trigger"></a>
### Nested Schema for `actions_on_trigger`

Required:

- `type` (String) The type of action to perform

Optional:

- `automation_id` (String) (Automation) ID of the automation to apply this action to
- `block_document_id` (String) (Webhook / Notification) ID of the block to use
- `body` (String) (Notification) Body of the notification
- `deployment_id` (String) (Deployment) ID of the deployment to apply this action to
- `job_variables` (String) (Deployment) Job variables to pass to the created flow run
- `message` (String) (Flow Run State Change) Message to associate with the state change
- `name` (String) (Flow Run State Change) Name of the state to change the flow run to
- `parameters` (String) (Deployment) Parameters to pass to the deployment
- `payload` (String) (Webhook) Payload to send when calling the webhook
- `source` (String) (Deployment / Work Pool / Work Queue / Automation) Whether this action applies to a specific selected resource or to a specific resource by ID - 'selected' or 'inferred'
- `state` (String) (Flow Run State Change) Type of state to change the flow run to
- `subject` (String) (Notification) Subject of the notification
- `work_pool_id` (String) (Work Pool) ID of the work pool to apply this action to
- `work_queue_id` (String) (Work Queue) ID of the work queue to apply this action to
