---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "prefect_deployment_access Resource - prefect"
subcategory: ""
description: |-
  The resource deployment_access represents a connection between an accessor (User, Service Account or Team) with a Deployment. This resource specifies an actor's access level to a specific Deployment in the Account. For more information, see object access control lists https://docs.prefect.io/v3/manage/cloud/manage-users/object-access-control-lists.
  This feature is available in the following product plan(s) https://www.prefect.io/pricing: Prefect Cloud (Pro), Prefect Cloud (Enterprise).
---

# prefect_deployment_access (Resource)

The resource `deployment_access` represents a connection between an accessor (User, Service Account or Team) with a Deployment. This resource specifies an actor's access level to a specific Deployment in the Account. For more information, see [object access control lists](https://docs.prefect.io/v3/manage/cloud/manage-users/object-access-control-lists).

This feature is available in the following [product plan(s)](https://www.prefect.io/pricing): Prefect Cloud (Pro), Prefect Cloud (Enterprise).

## Example Usage

```terraform
provider "prefect" {}

# All Deployments are scoped to a Workspace.
data "prefect_workspace" "test" {
  handle = "my-workspace"
}

# Be sure to grant all Actors/Teams who need Deployment access to first be
# invited to the Workspace (with a role).
data "prefect_workspace_role" "developer" {
  name = "Developer"
}


# Example: invite a Service Account to the Workspace and grant it Developer access

resource "prefect_service_account" "test" {
  name = "my-service-account"
}

resource "prefect_workspace_access" "test" {
  accessor_type     = "SERVICE_ACCOUNT"
  accessor_id       = prefect_service_account.test.id
  workspace_role_id = data.prefect_workspace_role.developer.id
  workspace_id      = data.prefect_workspace.test.id
}


# Example: invite a Team to the Workspace and grant it Developer access

data "prefect_team" "test" {
  name = "my-team"
}

resource "prefect_workspace_access" "test_team" {
  accessor_type     = "TEAM"
  accessor_id       = data.prefect_team.test.id
  workspace_role_id = data.prefect_workspace_role.developer.id
  workspace_id      = data.prefect_workspace.test.id
}


# Define the Flow and Deployment, and grant access to the Deployment

resource "prefect_flow" "test" {
  name         = "my-flow"
  workspace_id = data.prefect_workspace.test.id
  tags         = ["test"]
}

resource "prefect_deployment" "test" {
  name         = "my-deployment"
  workspace_id = data.prefect_workspace.test.id
  flow_id      = prefect_flow.test.id
}

resource "prefect_deployment_access" "test" {
  workspace_id  = data.prefect_workspace.test.id
  deployment_id = prefect_deployment.test.id

  manage_actor_ids = [prefect_service_account.test.actor_id]
  run_actor_ids    = [prefect_service_account.test.actor_id]
  view_actor_ids   = [prefect_service_account.test.actor_id]

  manage_team_ids = [data.prefect_team.test.id]
  run_team_ids    = [data.prefect_team.test.id]
  view_team_ids   = [data.prefect_team.test.id]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `deployment_id` (String) Deployment ID (UUID)

### Optional

- `account_id` (String) Account ID (UUID)
- `manage_actor_ids` (List of String) List of actor IDs with manage access to the Deployment
- `manage_team_ids` (List of String) List of team IDs with manage access to the Deployment
- `run_actor_ids` (List of String) List of actor IDs with run access to the Deployment
- `run_team_ids` (List of String) List of team IDs with run access to the Deployment
- `view_actor_ids` (List of String) List of actor IDs with view access to the Deployment
- `view_team_ids` (List of String) List of team IDs with view access to the Deployment
- `workspace_id` (String) Workspace ID (UUID)
